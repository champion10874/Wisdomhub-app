{"version":3,"file":"cloudinary-upload.js","names":["_cloudinary","_interopRequireDefault","require","obj","__esModule","default","uploadToCloudinary","file","public_id","overwrite","invalidate","resourceType","Promise","resolve","uploadOptions","resource_type","chunk_size","cloudinary","v2","uploader","upload","error","result"],"sources":["../../src/cloudinary-upload.ts"],"sourcesContent":["import cloudinary, { UploadApiResponse, UploadApiErrorResponse } from 'cloudinary';\n\nexport function uploadToCloudinary(\n  file: string,\n  public_id?: string,\n  overwrite?: boolean,\n  invalidate?: boolean,\n  resourceType: 'auto' | 'video' = 'auto'\n): Promise<UploadApiResponse | UploadApiErrorResponse | undefined> {\n  return new Promise((resolve) => {\n    const uploadOptions = {\n      public_id,\n      overwrite,\n      invalidate,\n      resource_type: resourceType,\n      ...(resourceType === 'video' && {chunk_size: 50000})\n    };\n\n    cloudinary.v2.uploader.upload(\n      file,\n      uploadOptions,\n      (error: UploadApiErrorResponse | undefined, result: UploadApiResponse | undefined) => {\n        if (error) resolve(error);\n        resolve(result);\n      }\n    );\n  });\n}\n"],"mappings":";;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAmF,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5E,SAASG,kBAAkBA,CAChCC,IAAY,EACZC,SAAkB,EAClBC,SAAmB,EACnBC,UAAoB,EACpBC,YAA8B,GAAG,MAAM,EAC0B;EACjE,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,aAAa,GAAG;MACpBN,SAAS;MACTC,SAAS;MACTC,UAAU;MACVK,aAAa,EAAEJ,YAAY;MAC3B,IAAIA,YAAY,KAAK,OAAO,IAAI;QAACK,UAAU,EAAE;MAAK,CAAC;IACrD,CAAC;IAEDC,mBAAU,CAACC,EAAE,CAACC,QAAQ,CAACC,MAAM,CAC3Bb,IAAI,EACJO,aAAa,EACb,CAACO,KAAyC,EAAEC,MAAqC,KAAK;MACpF,IAAID,KAAK,EAAER,OAAO,CAACQ,KAAK,CAAC;MACzBR,OAAO,CAACS,MAAM,CAAC;IACjB,CACF,CAAC;EACH,CAAC,CAAC;AACJ"}